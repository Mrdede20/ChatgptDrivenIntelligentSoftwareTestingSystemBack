The two programs have different output because they have different implementations. The first program iterates over the directed graph and adds the nodes with no predecessors first to the result list. It then adds the next nodes that have all their predecessors visited to the list, and so on. The second program uses a while loop where it starts from the nodes with in-degree 0 and keeps removing the nodes with 0 in-degree over and over again until there are no more nodes with in-degree 0. So the second program assumes that the input is a directed acyclic graph (DAG). If the input is not a DAG, then the two programs will produce different output.